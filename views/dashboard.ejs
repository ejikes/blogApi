<h1 style="font-size: 2.5rem; font-weight: bold; margin-bottom: 1rem; color: #1f2937;">
  My Dashboard
</h1>

<p style="color: #6b7280; margin-bottom: 2rem;">
  Manage your blog posts
</p>

<!-- Create New Blog Button -->
<div style="margin-bottom: 2rem;">
  <a href="/blogs/create" class="btn btn-primary" style="padding: 0.75rem 2rem; font-size: 1.1rem;">
    + Create New Blog
  </a>
</div>

<!-- Blogs List -->
<% if (blogs.length === 0) { %>
  <div class="card text-center" style="padding: 3rem;">
    <p style="font-size: 1.2rem; color: #6b7280; margin-bottom: 1rem;">
      You haven't created any blogs yet
    </p>
    <a href="/blogs/create" class="btn btn-primary">
      Create Your First Blog
    </a>
  </div>
<% } else { %>
  
  <% const drafts = blogs.filter(b => b.state === 'draft') %>
  <% const published = blogs.filter(b => b.state === 'published') %>

  <!-- Draft Blogs -->
  <% if (drafts.length > 0) { %>
    <h2 style="font-size: 1.5rem; font-weight: 600; margin-bottom: 1rem; color: #374151; display: flex; align-items: center; gap: 0.5rem;">
      <span style="background: #fef3c7; color: #92400e; padding: 0.25rem 0.75rem; border-radius: 9999px; font-size: 0.875rem;">
        <%= drafts.length %>
      </span>
      Drafts
    </h2>

    <% drafts.forEach(blog => { %>
      <div class="card">
        <div style="display: flex; justify-content: space-between; align-items: start; gap: 1rem;">
          <div style="flex: 1;">
            <h3 style="font-size: 1.3rem; font-weight: 600; margin-bottom: 0.5rem;">
              <%= blog.title %>
            </h3>
            
            <p style="color: #6b7280; font-size: 0.9rem; margin-bottom: 1rem;">
              <span style="background: #fef3c7; color: #92400e; padding: 0.25rem 0.5rem; border-radius: 4px; font-weight: 500;">
                DRAFT
              </span>
              <span style="margin-left: 0.5rem;">
                <%= blog.reading_time %> min read
              </span>
            </p>

            <div style="display: flex; gap: 0.75rem; flex-wrap: wrap;">
              <a href="/blogs/<%= blog._id %>" style="color: #2563eb; text-decoration: none; font-weight: 500;">
                Preview
              </a>
              <span style="color: #d1d5db;">|</span>
              <a href="/blogs/<%= blog._id %>/edit" style="color: #2563eb; text-decoration: none; font-weight: 500;">
                Edit
              </a>
              <span style="color: #d1d5db;">|</span>
              <form action="/blogs/<%= blog._id %>/delete" method="POST" style="display: inline;" onsubmit="return confirm('Are you sure you want to delete this blog?');">
                <button type="submit" style="background: none; border: none; color: #dc2626; cursor: pointer; font-weight: 500; padding: 0;">
                  Delete
                </button>
              </form>
            </div>
          </div>

          <form action="/blogs/<%= blog._id %>/publish" method="POST">
            <button type="submit" class="btn btn-success">
              Publish
            </button>
          </form>
        </div>
      </div>
    <% }) %>
  <% } %>

  <!-- Published Blogs -->
  <% if (published.length > 0) { %>
    <h2 style="font-size: 1.5rem; font-weight: 600; margin: 2rem 0 1rem; color: #374151; display: flex; align-items: center; gap: 0.5rem;">
      <span style="background: #d1fae5; color: #065f46; padding: 0.25rem 0.75rem; border-radius: 9999px; font-size: 0.875rem;">
        <%= published.length %>
      </span>
      Published
    </h2>

    <% published.forEach(blog => { %>
      <div class="card">
        <div style="display: flex; justify-content: space-between; align-items: start; gap: 1rem;">
          <div style="flex: 1;">
            <h3 style="font-size: 1.3rem; font-weight: 600; margin-bottom: 0.5rem;">
              <%= blog.title %>
            </h3>
            
            <p style="color: #6b7280; font-size: 0.9rem; margin-bottom: 1rem;">
              <span style="background: #d1fae5; color: #065f46; padding: 0.25rem 0.5rem; border-radius: 4px; font-weight: 500;">
                PUBLISHED
              </span>
              <span style="margin-left: 0.5rem;">
                <%= blog.read_count %> reads â€¢ <%= blog.reading_time %> min
              </span>
            </p>

            <div style="display: flex; gap: 0.75rem; flex-wrap: wrap;">
              <a href="/blogs/<%= blog._id %>" style="color: #2563eb; text-decoration: none; font-weight: 500;">
                View
              </a>
              <span style="color: #d1d5db;">|</span>
              <a href="/blogs/<%= blog._id %>/edit" style="color: #2563eb; text-decoration: none; font-weight: 500;">
                Edit
              </a>
              <span style="color: #d1d5db;">|</span>
              <form action="/blogs/<%= blog._id %>/delete" method="POST" style="display: inline;" onsubmit="return confirm('Are you sure you want to delete this blog?');">
                <button type="submit" style="background: none; border: none; color: #dc2626; cursor: pointer; font-weight: 500; padding: 0;">
                  Delete
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    <% }) %>
  <% } %>
<% } %>
